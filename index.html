<!doctype html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>üõí Supermarket ‚Äì Beginner Edition</title>
    <style>
        :root{
            --primary:#2563eb; --primary-600:#1d4ed8; --accent:#f97316; --bg:#f8fafc;
            --text:#111827; --muted:#6b7280; --radius:14px; --shadow:0 8px 24px rgba(0,0,0,.08)
        }
        *{box-sizing:border-box}
        html,body{margin:0; font-family:"Segoe UI", Roboto, Arial, sans-serif; color:var(--text); background:var(--bg)}
        a{color:inherit; text-decoration:none}

        /* ===== Header / Nav ===== */
        header{position:sticky; top:0; z-index:20; background:#fff; box-shadow:var(--shadow)}
        .nav{max-width:1100px; margin:0 auto; display:flex; align-items:center; gap:16px; padding:10px 16px}
        .brand{display:flex; align-items:center; gap:10px}
        .brand .logo{width:36px; height:36px; border-radius:10px; background:linear-gradient(135deg, var(--primary), #60a5fa)}
        .brand h1{font-size:18px; margin:0}
        .links{margin-left:auto; display:flex; align-items:center; gap:14px}
        .links a{padding:8px 10px; border-radius:10px}
        .links a:hover{background:#f3f4f6}
        .cart-chip{display:inline-flex; align-items:center; gap:6px; padding:8px 12px; border-radius:999px; background:#eef2ff; color:var(--primary)}
        .cart-chip b{background:var(--primary); color:#fff; border-radius:999px; padding:1px 8px; font-size:12px}

        /* ===== Hero / Welcome ===== */
        .hero{max-width:1100px; margin:18px auto; background:#fff; border-radius:var(--radius); box-shadow:var(--shadow); overflow:hidden}
        .hero-inner{display:grid; grid-template-columns:1.1fr .9fr; gap:0}
        .hero-left{padding:26px}
        .hero h2{margin:0 0 8px; font-size:28px; color:var(--primary)}
        .hero p{margin:6px 0 16px; color:var(--muted)}
        .cta{display:flex; gap:10px}
        .btn{border:0; cursor:pointer; font-weight:600; padding:10px 14px; border-radius:12px}
        .btn.primary{background:var(--primary); color:#fff}
        .btn.primary:hover{background:var(--primary-600)}
        .btn.ghost{background:#f3f4f6}
        .btn.ghost:hover{background:#e5e7eb}
        .hero-right{min-height:220px; background:url('https://images.unsplash.com/photo-1506617420156-8e4536971650?q=80&w=1600&auto=format&fit=crop') center/cover no-repeat}

        /* ===== Utility ===== */
        .container{max-width:1100px; margin:0 auto; padding:0 16px}
        .section{margin:26px 0 14px; display:flex; align-items:center; justify-content:space-between}
        .section h3{margin:0; font-size:20px}
        .searchbar{display:flex; gap:8px}
        .searchbar input{padding:10px 12px; border:1px solid #e5e7eb; border-radius:12px; min-width:240px}

        /* ===== Catalog grid ===== */
        .grid{display:grid; gap:16px; grid-template-columns:repeat(auto-fill,minmax(220px,1fr))}
        .card{background:#fff; border-radius:16px; box-shadow:var(--shadow); overflow:hidden; display:flex; flex-direction:column}
        .card img{width:100%; aspect-ratio:4/3; object-fit:cover}
        .card .pad{padding:12px}
        .card h4{margin:0 0 6px; font-size:16px}
        .price{color:var(--accent); font-weight:700}
        .row{display:flex; align-items:center; gap:8px; margin-top:10px}
        .row input[type=number]{width:76px; padding:8px 10px; border:1px solid #e5e7eb; border-radius:10px}

        /* ===== Panel (Cart) ===== */
        .panel{background:#fff; border-radius:16px; box-shadow:var(--shadow); margin:28px 0; overflow:hidden}
        .panel h3{margin:0; padding:14px 16px; border-bottom:1px solid #f0f0f0; background:#f9fafb}
        table{width:100%; border-collapse:collapse}
        th,td{padding:12px; border-bottom:1px solid #f5f5f5; text-align:left}
        thead th{background:#f9fafb}
        .right{text-align:right} .center{text-align:center}
        .cart-actions{display:flex; align-items:center; justify-content:space-between; padding:12px 16px; background:#f9fafb}
        .pill{display:inline-flex; gap:8px; align-items:center; padding:6px 10px; border-radius:999px; background:#f3f4f6; color:#374151}
        .pill .dot{width:8px; height:8px; border-radius:99px; background:#10b981}
        .btn.small{padding:6px 10px; border-radius:10px; font-weight:600}
        .btn.danger{background:#ef4444; color:#fff}
        .btn.danger:hover{background:#dc2626}

        /* ===== Footer ===== */
        footer{margin:26px 0 50px; color:#6b7280}
        footer .foot{max-width:1100px; margin:0 auto; padding:0 16px; display:flex; gap:10px; justify-content:space-between}

        /* ===== Responsive ===== */
        @media (max-width: 860px){
            .hero-inner{grid-template-columns:1fr}
            .hero-right{height:180px}
            .searchbar input{min-width:0; width:100%}
        }
    </style>
</head>
<body>
<!-- ===== Header ===== -->
<header>
    <nav class="nav">
        <div class="brand">
            <div class="logo" aria-hidden="true"></div>
            <h1>Online Shopping Centre</h1>
        </div>
        <div class="links">
            <a href="#welcome">Trang ch·ªß</a>
            <a href="#catalog">S·∫£n ph·∫©m</a>
            <a href="#about">Gi·ªõi thi·ªáu</a>
            <a href="#contact">Li√™n h·ªá</a>
            <span class="cart-chip" title="T·ªïng s·ªë m·∫∑t h√†ng trong gi·ªè">
          üõí <span>Gi·ªè h√†ng</span> <b id="cartCount">0</b>
        </span>
        </div>
    </nav>
</header>

<!-- ===== Welcome / Hero ===== -->
<section id="welcome" class="hero" aria-label="Ch√†o m·ª´ng">
    <div class="hero-inner">
        <div class="hero-left">
            <h2>Si√™u th·ªã online ‚Äì Tr·∫ßn Nguy·ªÖn Anh Kha</h2>
            <p>Mua th·ª±c ph·∫©m t∆∞∆°i ngon, giao nhanh trong ng√†y. Gi√° t·ªët, r√µ r√†ng ‚Äì thao t√°c ƒë∆°n gi·∫£n cho ng∆∞·ªùi m·ªõi h·ªçc web.</p>
            <div class="cta">
                <a class="btn primary" href="#shop">Mua s·∫Øm ngay</a>
                <a class="btn ghost" href="#about">T√¨m hi·ªÉu th√™m</a>
            </div>
        </div>
        <div class="hero-right" aria-hidden="true"></div>
    </div>
</section>

<!-- ===== Catalog Section ===== -->
<main id="shop" class="container">
    <div class="section">
        <h3>S·∫£n ph·∫©m</h3>
        <div class="searchbar">
            <input id="searchInput" type="search" placeholder="T√¨m t√™n s·∫£n ph·∫©m‚Ä¶ (vd: t√°o, g·∫°o)" aria-label="T√¨m s·∫£n ph·∫©m" />
            <button class="btn" onclick="clearSearch()">Xo√°</button>
        </div>
    </div>

    <div id="catalog" class="grid" aria-live="polite"></div>

    <!-- ===== Cart Panel ===== -->
    <section class="panel" aria-label="Gi·ªè h√†ng">
        <h3>Gi·ªè h√†ng</h3>
        <div class="table-wrap">
            <table>
                <thead>
                <tr>
                    <th>#</th>
                    <th>S·∫£n ph·∫©m</th>
                    <th class="right">Gi√°</th>
                    <th class="center">SL</th>
                    <th class="right">Th√†nh ti·ªÅn</th>
                    <th>Thao t√°c</th>
                </tr>
                </thead>
                <tbody id="cartBody"></tbody>
                <tfoot>
                <tr>
                    <th colspan="4" class="right">T·ªïng ti·ªÅn</th>
                    <th class="right" id="cartTotal">0</th>
                    <th></th>
                </tr>
                </tfoot>
            </table>
        </div>
        <div class="cart-actions">
            <div class="pill"><span class="dot"></span> T·ªïng m·∫∑t h√†ng: <b id="cartCountBottom">0</b></div>
            <div>
                <button class="btn ghost" onclick="clearCart()">Xo√° gi·ªè</button>
                <button class="btn primary" onclick="checkout()">Thanh to√°n</button>
            </div>
        </div>
    </section>

    <!-- ===== About & Contact ===== -->
    <section id="about" class="section">
        <h3>Gi·ªõi thi·ªáu</h3>
    </section>
    <div class="panel" style="padding:16px">
        <p>ƒê√¢y l√† phi√™n b·∫£n <b>Beginner</b> minh ho·∫° shop online b·∫±ng HTML/CSS/JS thu·∫ßn. M·ª•c ti√™u:
            c√≥ header, trang ch√†o m·ª´ng, danh m·ª•c c√≥ h√¨nh ·∫£nh, gi·ªè h√†ng c∆° b·∫£n ‚Äì code r√µ r√†ng, d·ªÖ h·ªçc.</p>
    </div>

    <section id="contact" class="section">
        <h3>Li√™n h·ªá</h3>
    </section>
    <div class="panel" style="padding:16px">
        <p>Email: <a href="mailto:kha.shop@example.com">kha.shop@example.com</a> ¬∑ Hotline: 0900 000 000</p>
    </div>
</main>

<footer>
    <div class="foot">
        <small>¬© 2025 Online Shopping Centre ¬∑ Demo h·ªçc t·∫≠p</small>
        <small><a href="#welcome">V·ªÅ ƒë·∫ßu trang ‚Üë</a></small>
    </div>
</footer>

<script>
    // ===== OOP c∆° b·∫£n =====
    function Product(id, name, price, image){
        this.id=id; this.name=name; this.price=Number(price); this.image=image||"";
    }
    function CartItem(product, qty){
        this.product=product; this.qty=Number(qty||1);
        this.subtotal=function(){ return this.product.price * this.qty }
    }

    // ===== D·ªØ li·ªáu m·∫´u (c√≥ h√¨nh ·∫£nh) =====
    const products = [
        new Product("p1","T√°o M·ªπ Fuji", 35500, "https://images.unsplash.com/photo-1567306226416-28f0efdc88ce?q=80&w=1200&auto=format&fit=crop"),
        new Product("p2","Cam √öc", 42000, "https://images.unsplash.com/photo-1610832958506-aa56368176cf?q=80&w=1200&auto=format&fit=crop"),
        new Product("p3","Chu·ªëi Laba", 18000, "https://images.unsplash.com/photo-1571772805064-207c8435df79?q=80&w=1200&auto=format&fit=crop"),
        new Product("p4","C√† r·ªët ƒê√† L·∫°t", 16000, "https://images.unsplash.com/photo-1546549039-f7c8c1cb1d1b?q=80&w=1200&auto=format&fit=crop"),
        new Product("p5","G·∫°o ST25 (1kg)", 28000, "https://images.unsplash.com/photo-1526318472351-c75fcf070305?q=80&w=1200&auto=format&fit=crop"),
        new Product("p6","S·ªØa t∆∞∆°i 1L", 31000, "https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?q=80&w=1200&auto=format&fit=crop")
    ];

    let cart = []; // m·∫£ng CartItem

    // ===== Helper DOM =====
    const $ = (id) => document.getElementById(id);
    const formatVND = (n) => new Intl.NumberFormat('vi-VN', {style:'currency', currency:'VND', maximumFractionDigits:0}).format(n);

    // ===== Catalog =====
    function renderCatalog(list){
        const data = list || products;
        let html = "";
        for(let i=0;i<data.length;i++){
            const p = data[i];
            html += `
        <article class="card">
          <img src="${p.image}" alt="${p.name}" />
          <div class="pad">
            <h4>${p.name}</h4>
            <div class="price">${formatVND(p.price)}</div>
            <div class="row">
              <input id="qty_${p.id}" type="number" min="1" value="1" aria-label="S·ªë l∆∞·ª£ng">
              <button class="btn primary" onclick="addToCart('${p.id}')">Th√™m v√†o gi·ªè</button>
            </div>
          </div>
        </article>`;
        }
        $("catalog").innerHTML = html || `<p>Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m ph√π h·ª£p.</p>`;
    }

    function findProductById(id){
        return products.find(p => p.id === id) || null;
    }

    // ===== Cart =====
    function findCartIndexByProductId(id){
        return cart.findIndex(ci => ci.product.id === id);
    }

    function addToCart(productId){
        const p = findProductById(productId); if(!p) return;
        const qtyInput = $("qty_"+productId);
        let qty = Number(qtyInput ? qtyInput.value : 1);
        if (!Number.isFinite(qty) || qty<=0){ alert("S·ªë l∆∞·ª£ng kh√¥ng h·ª£p l·ªá"); return }

        const idx = findCartIndexByProductId(productId);
        if (idx>=0) cart[idx].qty += qty; else cart.push(new CartItem(p, qty));
        renderCart();
    }

    function increaseQty(index){ cart[index].qty++; renderCart() }
    function decreaseQty(index){
        cart[index].qty--;
        if (cart[index].qty<=0) cart.splice(index,1);
        renderCart();
    }
    function removeCartItem(index){ cart.splice(index,1); renderCart() }
    function clearCart(){ if(confirm("Xo√° to√†n b·ªô gi·ªè h√†ng?")){ cart=[]; renderCart() } }

    function calcTotal(){ return cart.reduce((s,it)=> s+it.subtotal(), 0) }

    function renderCart(){
        let rows = "";
        for(let i=0;i<cart.length;i++){
            const it = cart[i];
            rows += `
          <tr>
            <td>${i+1}</td>
            <td>${it.product.name}</td>
            <td class="right">${formatVND(it.product.price)}</td>
            <td class="center">
              <button class="btn small danger" aria-label="Gi·∫£m" onclick="decreaseQty(${i})">-</button>
              ${it.qty}
              <button class="btn small" aria-label="TƒÉng" onclick="increaseQty(${i})">+</button>
            </td>
            <td class="right">${formatVND(it.subtotal())}</td>
            <td><button class="btn small" onclick="removeCartItem(${i})">Xo√°</button></td>
          </tr>`;
        }
        $("cartBody").innerHTML = rows;
        const total = calcTotal();
        $("cartTotal").textContent = formatVND(total);
        $("cartCount").textContent = String(cart.length);
        $("cartCountBottom").textContent = String(cart.length);
    }

    // ===== Search (Beginner friendly) =====
    const searchInput = $("searchInput");
    searchInput.addEventListener('input', function(){
        const q = this.value.trim().toLowerCase();
        if (!q) return renderCatalog();
        renderCatalog(products.filter(p => p.name.toLowerCase().includes(q)));
    });
    function clearSearch(){ searchInput.value=''; renderCatalog() }

    // ===== Boot =====
    renderCatalog();
    renderCart();
</script>
</body>
</html>
